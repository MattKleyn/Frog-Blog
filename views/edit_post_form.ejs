<%- include("partials/header.ejs") %>
    <section class="post_details">
        <h1>Edit post details</h1>
        <form action="/edit/<%=id%>?_method=PATCH" method="POST">
            <label id="title">Article name: 
                <input type="text" name="title" value="<%= title %>" class="input_field" required>
            </label>
            <label id="body">Article body: 
                <textarea type="text" name="body" class="input_text-body" required><%= body %></textarea> 
            </label>
            <label id="author">Author name: 
                <input type="text" name="author" value="<%= author %>" class="input_field" required>
            </label>
            <% allCategories.forEach(category => { %>
                <label>
                    <input type="checkbox" name="category" value="<%= category.category_id %>"
                    <% if (selectedCategories.some(c => c.category_id == category.category_id)) { %> 
                        checked
                    <% } %> >
                    <%= category.category_name %>
                </label>
            <% }) %>
            <div>
                <button type="submit" name="save_changes" value="edited" class="button_style">Save Changes</button>
                <a href="/posts/<%=id%>" class="button_style-ghost" role="button">Cancel</a>
            </div>
        </form>
    </section>
<%- include("partials/footer.ejs") %>